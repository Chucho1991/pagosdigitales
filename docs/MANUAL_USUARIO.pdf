%PDF-1.4
1 0 obj
<< /Type /Catalog /Pages 2 0 R >>
endobj
2 0 obj
<< /Type /Pages /Kids [4 0 R 6 0 R] /Count 2 >>
endobj
3 0 obj
<< /Type /Font /Subtype /Type1 /BaseFont /Helvetica >>
endobj
4 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 3 0 R >> >> /Contents 5 0 R >>
endobj
5 0 obj
<< /Length 2774 >>
stream
BT
/F1 12 Tf
14 TL
72 720 Td
(Manual de usuario — PagosDigitales) Tj
T*
() Tj
T*
(1. Objetivo) Tj
T*
() Tj
T*
(Este manual guía a usuarios funcionales y técnicos en el uso de la API de PagosDigitales,) Tj
T*
(incluyendo endpoints disponibles, formatos de solicitud, respuestas y recomendaciones de) Tj
T*
(operación.) Tj
T*
() Tj
T*
(2. Requisitos previos • Acceso a la API \(URL base y credenciales de proveedor\). • Código) Tj
T*
(de proveedor \(paymentprovidercode\). • Conocer el formato de los payloads JSON o) Tj
T*
(form-urlencoded según el endpoint.) Tj
T*
() Tj
T*
(3. URL base) Tj
T*
() Tj
T*
(http://<host>:8080) Tj
T*
() Tj
T*
(4. Endpoints disponibles Método | Ruta | Descripción | Content-Type | Respuesta --- | ---) Tj
T*
(| --- | --- | --- POST | /api/v1/banks | Consulta bancos por proveedor o todos | JSON |) Tj
T*
(JSON GET | /api/v1/payments | Consulta pagos por operationid | JSON \(body\) | JSON POST |) Tj
T*
(/api/v1/direct-online-payment-requests | Solicitud de pago en línea | JSON | JSON POST |) Tj
T*
(/api/v1/payments/notifications/merchant-events | Notificaciones de eventos del comercio |) Tj
T*
(JSON | JSON POST | /api/v1/safetypay/confirmation | Webhook SafetyPay \(CSV firmado\) |) Tj
T*
(application/x-www-form-urlencoded | text/plain GET | /api/v1/pagos/test | Health check | —) Tj
T*
(| text/plain 5. Guías de uso) Tj
T*
() Tj
T*
(5.1 Health check bash curl -X GET http://localhost:8080/api/v1/pagos/test) Tj
T*
() Tj
T*
(5.2 Consultar bancos bash curl -X POST http://localhost:8080/api/v1/banks \\ -H) Tj
T*
("Content-Type: application/json" \\ -d '{ "chain": 1, "store": 148, "storename": "FYBECA) Tj
T*
(AMAZONAS", "pos": 90, "paymentprovidercode": 235689, "countrycode": "EC" }') Tj
T*
() Tj
T*
(5.3 Solicitar pago en línea bash curl -X POST) Tj
T*
(http://localhost:8080/api/v1/direct-online-payment-requests \\ -H "Content-Type:) Tj
T*
(application/json" \\ -d '{ "chain": 1, "store": 148, "storename": "FYBECA AMAZONAS", "pos":) Tj
T*
(90, "paymentprovidercode": 235689, "salesamount": { "value": 50.00, "currencycode": "USD") Tj
T*
(}, "countrycode": "EC", "bankid": "0123", "merchantsetpayamount": true,) Tj
T*
("expirationtimeminutes": 30, "languagecode": "ES", "custommerchantname": "TIENDA",) Tj
T*
("merchantsalesid": "Prueba1", "requestedpaymenttype": "paycash", "transactionemail":) Tj
T*
("cliente@correo.com", "sendemailshopper": true }') Tj
T*
() Tj
T*
(5.4 Consultar pagos bash curl -X GET http://localhost:8080/api/v1/payments \\ -H) Tj
T*
("Content-Type: application/json" \\ -d '{ "chain": 1, "store": 148, "storename": "FYBECA) Tj
T*
(AMAZONAS", "pos": 90, "paymentprovidercode": 235689, "operationid": "0125239606973873",) Tj
T*
("requestdatetime": "2025-08-27T23:22:14" }') Tj
T*
() Tj
T*
ET
endstream
endobj
6 0 obj
<< /Type /Page /Parent 2 0 R /MediaBox [0 0 612 792] /Resources << /Font << /F1 3 0 R >> >> /Contents 7 0 R >>
endobj
7 0 obj
<< /Length 1837 >>
stream
BT
/F1 12 Tf
14 TL
72 720 Td
(5.5 Merchant Events bash curl -X POST) Tj
T*
(http://localhost:8080/api/v1/payments/notifications/merchant-events \\ -H "Content-Type:) Tj
T*
(application/json" \\ -d '{ "chain": 1, "store": 148, "storename": "FYBECA AMAZONAS", "pos":) Tj
T*
(90, "paymentprovidercode": 235689, "merchantevents": [ { "eventtype": "paymentcompleted",) Tj
T*
("eventdatetime": "2025-08-27T23:30:00" } ], "requestdatetime": "2025-08-27T23:30:00" }') Tj
T*
() Tj
T*
(5.6 SafetyPay Confirmation \(webhook\) bash curl -X POST) Tj
T*
(http://localhost:8080/api/v1/safetypay/confirmation \\ -H "Content-Type:) Tj
T*
(application/x-www-form-urlencoded" \\ --data-urlencode "ApiKey=MIAPIKEY" \\ --data-urlencode) Tj
T*
("paymentprovidercode=235689" \\ --data-urlencode "RequestDateTime=2020-10-20T12:27:27" \\) Tj
T*
(--data-urlencode "MerchantSalesID=Prueba1" \\ --data-urlencode "ReferenceNo=Ref1" \\) Tj
T*
(--data-urlencode "CreationDateTime=2020-10-20T12:27:27" \\ --data-urlencode "Amount=50.00") Tj
T*
(\\ --data-urlencode "CurrencyID=USD" \\ --data-urlencode "PaymentReferenceNo=606973" \\) Tj
T*
(--data-urlencode "Status=102" \\ --data-urlencode "Signature=FIRMACALCULADA") Tj
T*
() Tj
T*
(6. Respuestas de error) Tj
T*
() Tj
T*
(Los endpoints \(excepto SafetyPay\) devuelven un objeto de error con código HTTP y detalles) Tj
T*
(de validación. Revise el campo error en la respuesta.) Tj
T*
() Tj
T*
(7. Buenas prácticas • Enviar paymentprovidercode siempre que aplique. • Usar) Tj
T*
(requestdatetime en formato ISO cuando sea requerido. • Mantener sincronizadas las) Tj
T*
(credenciales de proveedor.) Tj
T*
() Tj
T*
(8. Soporte) Tj
T*
() Tj
T*
(Para incidencias, incluya: • Endpoint invocado • Payload enviado • Hora y zona horaria •) Tj
T*
(Código de proveedor • Respuesta completa) Tj
T*
() Tj
T*
ET
endstream
endobj
xref
0 8
0000000000 65535 f 
0000000000 00000 n 
0000000049 00000 n 
0000000112 00000 n 
0000000182 00000 n 
0000000308 00000 n 
0000003114 00000 n 
0000003240 00000 n 
trailer
<< /Size 8 /Root 1 0 R >>
startxref
5109
%%EOF
